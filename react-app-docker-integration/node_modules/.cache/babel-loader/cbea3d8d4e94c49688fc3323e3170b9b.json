{"ast":null,"code":"import _classCallCheck from\"/Users/saptarshidey/Documents/multi/react-app-docker-integration/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/saptarshidey/Documents/multi/react-app-docker-integration/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/saptarshidey/Documents/multi/react-app-docker-integration/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/saptarshidey/Documents/multi/react-app-docker-integration/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/saptarshidey/Documents/multi/react-app-docker-integration/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Button}from\"react-bootstrap\";import axios from'axios';import ChartView from\"./chart-view\";var Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);function Home(props){var _this;_classCallCheck(this,Home);_this=_possibleConstructorReturn(this,_getPrototypeOf(Home).call(this,props));_this.changeValue=function(e,index){var val=e.target.value;var boxes=_this.state.boxes;boxes[index]=val;_this.setState({boxes:boxes});};_this.handleAdd=function(){var boxes=_this.state.boxes;boxes.push('');_this.setState({boxes:boxes});};_this.onSubmit=function(){var boxes=_this.state.boxes;var token=process.env.TOKEN;var respData=[];boxes.forEach(function(item,ind){axios.get('https://api.waqi.info/feed/'+item+'/?token='+token).then(function(resp){if(resp.data.status=='ok'){respData.push(resp.data.data);}if(ind==boxes.length-1){_this.setState({pollutionData:respData});}}).catch(function(err){console.log(err);return;});});};_this.state={boxes:['',''],pollutionData:[]};return _this;}_createClass(Home,[{key:\"render\",value:function render(){var _this2=this;var boxes=this.state.boxes;return React.createElement(\"div\",null,React.createElement(\"div\",{style:{margin:'10px'},className:\"row\"},boxes.map(function(item,index){return React.createElement(\"div\",{className:\"col-md-3\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{for:\"usr\"},\"Enter a city:\"),React.createElement(\"input\",{type:\"text\",onChange:function onChange(e){return _this2.changeValue(e,index);},className:\"form-control\",value:item})));}),React.createElement(\"i\",{style:{marginTop:'35px',cursor:\"pointer\"},onClick:function onClick(){return _this2.handleAdd();},class:\"fa fa-plus-circle fa-2x\",\"aria-hidden\":\"true\"})),React.createElement(Button,{variant:\"primary\",onClick:function onClick(){return _this2.onSubmit();}},\"Submit\"),this.state.pollutionData.length>0?React.createElement(ChartView,{pollutionData:this.state.pollutionData}):null);}}]);return Home;}(Component);export default Home;","map":{"version":3,"sources":["/Users/saptarshidey/Documents/multi/react-app-docker-integration/src/components/Home.js"],"names":["React","Component","Button","axios","ChartView","Home","props","changeValue","e","index","val","target","value","boxes","state","setState","handleAdd","push","onSubmit","token","process","env","TOKEN","respData","forEach","item","ind","get","then","resp","data","status","length","pollutionData","catch","err","console","log","margin","map","marginTop","cursor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Button} from \"react-bootstrap\"\nimport axios from 'axios'\n\nimport ChartView from \"./chart-view\"\n\n\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { \n            boxes:['',''],\n            pollutionData:[]\n        };\n    }\n    changeValue=(e,index)=>{\n        let val = e.target.value;\n        let boxes = this.state.boxes;\n        boxes[index] = val\n        this.setState({\n            boxes:boxes\n        })\n    }\n    handleAdd = () =>{\n        let boxes = this.state.boxes;\n        boxes.push('')\n        this.setState({\n            boxes:boxes\n        })\n    }\n    onSubmit=()=>{\n        let boxes = this.state.boxes;\n        let token = process.env.TOKEN\n        var respData = []\n        boxes.forEach((item,ind)=>{\n            axios.get('https://api.waqi.info/feed/'+item+'/?token='+token).then((resp)=>{\n                if(resp.data.status=='ok'){\n                  respData.push(resp.data.data)\n                }\n                if(ind==boxes.length-1){\n                    this.setState({\n                        pollutionData:respData\n                    })\n                }\n            }).catch(err=>{\n                console.log(err)\n                return\n            })\n        })\n    }\n    render() {\n        var boxes = this.state.boxes\n        return (\n            <div>\n                <div style={{margin:'10px'}} className='row'>\n                    {\n                        boxes.map((item,index)=>{\n                            return(\n                                <div className='col-md-3'>\n                                    <div className=\"form-group\">\n                                        <label for=\"usr\">Enter a city:</label>\n                                        <input type=\"text\" onChange={(e)=>this.changeValue(e,index)} className=\"form-control\" value={item}/>\n                                    </div>\n                                </div>\n                            )\n                        })\n                    }\n                    <i style={{marginTop:'35px',cursor:\"pointer\"}} onClick={()=>this.handleAdd()} class=\"fa fa-plus-circle fa-2x\" aria-hidden=\"true\"></i>\n                </div>\n                <Button variant=\"primary\" onClick={()=>this.onSubmit()}>Submit</Button>\n                {(this.state.pollutionData.length>0)?<ChartView pollutionData={this.state.pollutionData}/>:null}\n            </div>\n            \n        );\n    }\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}